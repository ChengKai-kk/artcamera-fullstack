# å‰ç«¯é¡¹ç›®ä¼˜åŒ–ä¸å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## å½“å‰é—®é¢˜åˆ†æ

- **é¡¹ç›®æ€»å¤§å°**: 212MBï¼ˆåŒ…å« node_modulesï¼‰
- **public æ–‡ä»¶å¤¹å¤§å°**: 40MB
- **å›¾ç‰‡æ•°é‡**: 28 å¼ 
- **ä¸»è¦æ€§èƒ½ç“¶é¢ˆ**:
  - anime.jpg (4.5MB)
  - retro.jpg (3.8MB)
  - å°ç”·å­©.png (2.4MB)
  - west.jpg (900KB) - å·²å‹ç¼©
  - å¤šä¸ªæ¨¡æ¿å›¾ç‰‡ (600KB-1MB)

---

## ä¸€ã€å›¾ç‰‡ä¼˜åŒ–æ–¹æ¡ˆï¼ˆç«‹å³è§æ•ˆï¼‰

### æ–¹æ¡ˆ 1: ä½¿ç”¨åœ¨çº¿å·¥å…·æ‰¹é‡å‹ç¼©

**æ¨èå·¥å…·**:
- [TinyPNG](https://tinypng.com/) - PNG/JPG å‹ç¼©ï¼Œå…è´¹
- [Squoosh](https://squoosh.app/) - Google å‡ºå“ï¼Œæ”¯æŒ WebP è½¬æ¢
- [Compressor.io](https://compressor.io/) - é«˜è´¨é‡å‹ç¼©

**æ“ä½œæ­¥éª¤**:
1. å°† `artcamera_front/public/styles/` å’Œ `artcamera_front/public/templates/` ä¸‹çš„å›¾ç‰‡å…¨éƒ¨ä¸‹è½½
2. ä½¿ç”¨ TinyPNG æ‰¹é‡å‹ç¼©ï¼ˆå¯å‡å°‘ 60-80% ä½“ç§¯ï¼‰
3. æ›¿æ¢åŸæ–‡ä»¶

**é¢„æœŸæ•ˆæœ**: 40MB â†’ 10-15MB

### æ–¹æ¡ˆ 2: ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬å‹ç¼©ï¼ˆæ¨èï¼‰

å®‰è£…å›¾ç‰‡å‹ç¼©å·¥å…·:
```bash
cd artcamera_front
npm install --save-dev imagemin imagemin-mozjpeg imagemin-pngquant imagemin-webp
```

åˆ›å»ºå‹ç¼©è„šæœ¬ `scripts/compress-images.js`:
```javascript
import imagemin from 'imagemin';
import imageminMozjpeg from 'imagemin-mozjpeg';
import imageminPngquant from 'imagemin-pngquant';
import imageminWebp from 'imagemin-webp';

// å‹ç¼© JPG å’Œ PNG
await imagemin(['public/**/*.{jpg,jpeg,png}'], {
  destination: 'public-optimized',
  plugins: [
    imageminMozjpeg({ quality: 75 }),
    imageminPngquant({ quality: [0.6, 0.8] })
  ]
});

// ç”Ÿæˆ WebP ç‰ˆæœ¬ï¼ˆç°ä»£æµè§ˆå™¨æ”¯æŒï¼‰
await imagemin(['public/**/*.{jpg,jpeg,png}'], {
  destination: 'public-optimized',
  plugins: [
    imageminWebp({ quality: 75 })
  ]
});

console.log('Images optimized!');
```

åœ¨ `package.json` æ·»åŠ è„šæœ¬:
```json
"scripts": {
  "optimize-images": "node scripts/compress-images.js"
}
```

è¿è¡Œå‹ç¼©:
```bash
npm run optimize-images
```

### æ–¹æ¡ˆ 3: ä½¿ç”¨ WebP æ ¼å¼ï¼ˆæœ€ä½³å‹ç¼©æ¯”ï¼‰

WebP æ ¼å¼æ¯” JPG/PNG å° 25-35%ï¼Œæ‰€æœ‰ç°ä»£æµè§ˆå™¨éƒ½æ”¯æŒã€‚

ä½¿ç”¨ `cwebp` å·¥å…·è½¬æ¢:
```bash
# macOS å®‰è£…
brew install webp

# æ‰¹é‡è½¬æ¢
cd artcamera_front/public
find . -name "*.jpg" -exec sh -c 'cwebp -q 80 "$1" -o "${1%.jpg}.webp"' _ {} \;
find . -name "*.png" -exec sh -c 'cwebp -q 80 "$1" -o "${1%.png}.webp"' _ {} \;
```

åœ¨ Vue ç»„ä»¶ä¸­ä½¿ç”¨ WebP (å¸¦é™çº§):
```vue
<picture>
  <source srcset="/styles/anime.webp" type="image/webp">
  <img src="/styles/anime.jpg" alt="anime style">
</picture>
```

---

## äºŒã€ä»£ç ä¼˜åŒ–æ–¹æ¡ˆ

### 1. å›¾ç‰‡æ‡’åŠ è½½

å®‰è£… Vue æ‡’åŠ è½½æ’ä»¶:
```bash
npm install vue3-lazy
```

åœ¨ `main.js` é…ç½®:
```javascript
import { createApp } from 'vue'
import VueLazyload from 'vue3-lazy'
import App from './App.vue'

const app = createApp(App)
app.use(VueLazyload, {
  loading: '/loading.gif', // åŠ è½½ä¸­å ä½å›¾
  error: '/error.png'      // åŠ è½½å¤±è´¥å›¾ç‰‡
})
app.mount('#app')
```

åœ¨ç»„ä»¶ä¸­ä½¿ç”¨:
```vue
<!-- åŸæ¥ -->
<img src="/styles/anime.jpg" alt="anime">

<!-- æ”¹ä¸ºæ‡’åŠ è½½ -->
<img v-lazy="/styles/anime.jpg" alt="anime">
```

### 2. å“åº”å¼å›¾ç‰‡ï¼ˆæ ¹æ®å±å¹•å¤§å°åŠ è½½ï¼‰

ä¸ºä¸åŒè®¾å¤‡å‡†å¤‡ä¸åŒå°ºå¯¸:
```bash
# ç”Ÿæˆç¼©ç•¥å›¾ï¼ˆä½¿ç”¨ ImageMagickï¼‰
brew install imagemagick
convert anime.jpg -resize 800x anime-medium.jpg
convert anime.jpg -resize 400x anime-small.jpg
```

åœ¨ä»£ç ä¸­ä½¿ç”¨:
```vue
<img
  srcset="/styles/anime-small.jpg 400w,
          /styles/anime-medium.jpg 800w,
          /styles/anime.jpg 1200w"
  sizes="(max-width: 600px) 400px, (max-width: 1200px) 800px, 1200px"
  src="/styles/anime.jpg"
  alt="anime"
>
```

### 3. ä½¿ç”¨ Vite çš„é™æ€èµ„æºä¼˜åŒ–

åœ¨ `vite.config.js` ä¸­é…ç½®:
```javascript
import { defineConfig } from 'vite'
import vue from '@vitejs/plugin-vue'

export default defineConfig({
  plugins: [vue()],
  build: {
    rollupOptions: {
      output: {
        manualChunks: {
          'vendor': ['vue', 'vue-router']
        }
      }
    },
    // å›¾ç‰‡å‹ç¼©é˜ˆå€¼
    assetsInlineLimit: 4096, // å°äº 4kb çš„å›¾ç‰‡è½¬ base64
  }
})
```

---

## ä¸‰ã€å¿«é€Ÿéƒ¨ç½²æ–¹æ¡ˆï¼ˆæ¯” GitHub Pages æ›´å¿«ï¼‰

### æ¨èæ–¹æ¡ˆ 1: Vercelï¼ˆæœ€å¿«ï¼Œå…è´¹ï¼‰

**ä¼˜åŠ¿**:
- å…¨çƒ CDNï¼Œä¸­å›½è®¿é—®é€Ÿåº¦å¥½
- è‡ªåŠ¨ HTTPS
- æ¯æ¬¡ git push è‡ªåŠ¨éƒ¨ç½²
- å®Œå…¨å…è´¹

**éƒ¨ç½²æ­¥éª¤**:
```bash
# 1. å®‰è£… Vercel CLI
npm install -g vercel

# 2. åœ¨é¡¹ç›®æ ¹ç›®å½•ç™»å½•
cd artcamera_front
vercel login

# 3. é¦–æ¬¡éƒ¨ç½²ï¼ˆä¼šè¯¢é—®é…ç½®ï¼‰
vercel

# 4. åç»­éƒ¨ç½²
vercel --prod
```

**æˆ–è€…ä½¿ç”¨ Vercel ç½‘é¡µéƒ¨ç½²**:
1. è®¿é—® [vercel.com](https://vercel.com)
2. å¯¼å…¥ GitHub ä»“åº“
3. è‡ªåŠ¨è¯†åˆ« Vite é¡¹ç›®å¹¶éƒ¨ç½²
4. è·å¾— `https://your-project.vercel.app` åœ°å€

### æ¨èæ–¹æ¡ˆ 2: Netlifyï¼ˆç®€å•ï¼Œå…è´¹ï¼‰

**éƒ¨ç½²æ­¥éª¤**:
```bash
# 1. å®‰è£… Netlify CLI
npm install -g netlify-cli

# 2. ç™»å½•
netlify login

# 3. æ„å»ºé¡¹ç›®
npm run build

# 4. éƒ¨ç½²
netlify deploy --prod --dir=dist
```

**æˆ–è€…ä½¿ç”¨ç½‘é¡µéƒ¨ç½²**:
1. è®¿é—® [netlify.com](https://netlify.com)
2. æ‹–æ‹½ `dist` æ–‡ä»¶å¤¹åˆ°é¡µé¢
3. è·å¾—éƒ¨ç½²åœ°å€

### æ¨èæ–¹æ¡ˆ 3: Cloudflare Pagesï¼ˆå›½å†…è®¿é—®å¿«ï¼‰

**éƒ¨ç½²æ­¥éª¤**:
1. è®¿é—® [pages.cloudflare.com](https://pages.cloudflare.com)
2. è¿æ¥ GitHub ä»“åº“
3. é…ç½®æ„å»ºå‘½ä»¤:
   - Build command: `npm run build`
   - Build output directory: `dist`
4. ç‚¹å‡»éƒ¨ç½²

### æ–¹æ¡ˆ 4: é˜¿é‡Œäº‘ OSS + CDNï¼ˆå›½å†…æœ€å¿«ï¼Œæ”¶è´¹ï¼‰

**éƒ¨ç½²æ­¥éª¤**:
```bash
# 1. å®‰è£…é˜¿é‡Œäº‘ OSS å·¥å…·
npm install ali-oss -g

# 2. é…ç½® OSSï¼ˆéœ€è¦å…ˆåœ¨é˜¿é‡Œäº‘åˆ›å»º Bucketï¼‰
# åˆ›å»ºé…ç½®æ–‡ä»¶ oss-config.json

# 3. æ„å»ºå¹¶ä¸Šä¼ 
npm run build
ossutil cp -r dist/ oss://your-bucket-name/ -u
```

**è´¹ç”¨**: çº¦ Â¥10-30/æœˆï¼ˆå« CDN æµé‡ï¼‰

---

## å››ã€ä¸€é”®éƒ¨ç½²è„šæœ¬

åˆ›å»º `scripts/deploy.sh`:
```bash
#!/bin/bash

echo "ğŸš€ å¼€å§‹éƒ¨ç½²æµç¨‹..."

# 1. æ¸…ç†æ—§æ–‡ä»¶
echo "ğŸ“¦ æ¸…ç†æ—§çš„æ„å»ºæ–‡ä»¶..."
rm -rf dist

# 2. æ„å»ºé¡¹ç›®
echo "ğŸ”¨ æ„å»ºé¡¹ç›®..."
npm run build

# 3. é€‰æ‹©éƒ¨ç½²å¹³å°
echo "è¯·é€‰æ‹©éƒ¨ç½²å¹³å°:"
echo "1) Vercel"
echo "2) Netlify"
echo "3) GitHub Pages"
read -p "è¾“å…¥é€‰é¡¹ (1-3): " choice

case $choice in
  1)
    echo "ğŸš€ éƒ¨ç½²åˆ° Vercel..."
    vercel --prod
    ;;
  2)
    echo "ğŸš€ éƒ¨ç½²åˆ° Netlify..."
    netlify deploy --prod --dir=dist
    ;;
  3)
    echo "ğŸš€ éƒ¨ç½²åˆ° GitHub Pages..."
    npm run deploy
    ;;
  *)
    echo "âŒ æ— æ•ˆé€‰é¡¹"
    exit 1
    ;;
esac

echo "âœ… éƒ¨ç½²å®Œæˆ!"
```

æ·»åŠ æ‰§è¡Œæƒé™:
```bash
chmod +x scripts/deploy.sh
```

ä½¿ç”¨:
```bash
./scripts/deploy.sh
```

---

## äº”ã€å®Œæ•´ä¼˜åŒ–æ£€æŸ¥æ¸…å•

- [ ] **å›¾ç‰‡å‹ç¼©**: ä½¿ç”¨ TinyPNG æˆ–è‡ªåŠ¨åŒ–è„šæœ¬å‹ç¼©æ‰€æœ‰å›¾ç‰‡
- [ ] **WebP æ ¼å¼**: è½¬æ¢å¤§å›¾ä¸º WebPï¼ˆä¿ç•™åŸå›¾ä½œä¸ºé™çº§ï¼‰
- [ ] **å“åº”å¼å›¾ç‰‡**: ä¸ºä¸åŒå±å¹•å°ºå¯¸å‡†å¤‡ä¸åŒåˆ†è¾¨ç‡
- [ ] **æ‡’åŠ è½½**: æ·»åŠ  vue3-lazy æ’ä»¶
- [ ] **CDN**: è€ƒè™‘å°†å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠæˆ– CDN
- [ ] **Gzip å‹ç¼©**: Vercel/Netlify è‡ªåŠ¨å¯ç”¨
- [ ] **æ›´æ¢éƒ¨ç½²å¹³å°**: ä» GitHub Pages è¿ç§»åˆ° Vercel/Netlify

---

## å…­ã€é¢„æœŸä¼˜åŒ–æ•ˆæœ

| ä¼˜åŒ–é¡¹ | å½“å‰ | ä¼˜åŒ–å | æå‡ |
|--------|------|--------|------|
| é¦–é¡µåŠ è½½æ—¶é—´ | 15-30s | 2-5s | **80-90%** |
| æ€»èµ„æºå¤§å° | 40MB | 10-15MB | **60-75%** |
| å›¾ç‰‡åŠ è½½ | ä¸€æ¬¡æ€§åŠ è½½ | æŒ‰éœ€æ‡’åŠ è½½ | é¦–å±é€Ÿåº¦ **3-5å€** |
| æµ·å¤–è®¿é—®é€Ÿåº¦ | æ…¢ | å¿« | Vercel CDN **5-10å€** |

---

## ä¸ƒã€å¿«é€Ÿå¼€å§‹ï¼ˆæœ€ç®€æ–¹æ¡ˆï¼‰

å¦‚æœæ—¶é—´ç´§æ€¥ï¼Œåªåšè¿™ 3 æ­¥ï¼š

1. **å‹ç¼©å›¾ç‰‡** (5 åˆ†é’Ÿ):
   ```bash
   # å» tinypng.com æ‰¹é‡å‹ç¼© public/styles å’Œ public/templates çš„å›¾ç‰‡
   ```

2. **éƒ¨ç½²åˆ° Vercel** (3 åˆ†é’Ÿ):
   ```bash
   npm install -g vercel
   cd artcamera_front
   vercel --prod
   ```

3. **å®Œæˆ**! è·å¾—é«˜é€Ÿè®¿é—®åœ°å€

---

## å…«ã€éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œå¯ä»¥ï¼š
1. æ£€æŸ¥æ„å»ºæ—¥å¿—: `npm run build` æ˜¯å¦æˆåŠŸ
2. éªŒè¯å›¾ç‰‡è·¯å¾„: ç¡®ä¿ `/public/` ä¸‹çš„å›¾ç‰‡åœ¨æ„å»ºåè¢«æ­£ç¡®å¤åˆ¶åˆ° `dist/`
3. æ¸…é™¤ç¼“å­˜: åˆ é™¤ `.cache` å’Œ `node_modules/.cache` æ–‡ä»¶å¤¹é‡æ–°æ„å»º

---

**æ¨èç«‹å³æ‰§è¡Œ**: å›¾ç‰‡å‹ç¼© + éƒ¨ç½²åˆ° Vercel = æœ€å¿«è§æ•ˆï¼
